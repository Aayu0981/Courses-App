/*! For license information please see npm.futurelearn-1b6b52b2ceb1d24f28c0-1.5.js.LICENSE.txt */
(self.webpackChunkFutureLearn=self.webpackChunkFutureLearn||[]).push([["npm.futurelearn"],{OpGv:(t,e,n)=>{"use strict";n.d(e,{Z:()=>d});var i=n("okJs"),o=n("j9su"),s=n("lO7N"),r=n("hQ5P"),a=n("/tlC");const c=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class l extends i.Sy{static get requires(){return[r.HG]}static get pluginName(){return"AutoLink"}init(){const t=this.editor.model.document.selection;t.on("change:range",(()=>{this.isEnabled=!t.anchor.parent.is("element","codeBlock")})),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling()}_enableTypingHandling(){const t=this.editor,e=new r.uL(t.model,(t=>{if(!function(t){return t.length>4&&" "===t[t.length-1]&&" "!==t[t.length-2]}(t))return;const e=u(t.substr(0,t.length-1));return e?{url:e}:void 0}));t.plugins.get("Input"),e.on("matched:data",((e,n)=>{const{batch:i,range:o,url:s}=n;if(!i.isTyping)return;const r=o.end.getShiftedBy(-1),a=r.getShiftedBy(-s.length),c=t.model.createRange(a,r);this._applyAutoLink(s,c)})),e.bind("isEnabled").to(this)}_enableEnterHandling(){const t=this.editor,e=t.model,n=t.commands.get("enter");n&&n.on("execute",(()=>{const t=e.document.selection.getFirstPosition();if(!t.parent.previousSibling)return;const n=e.createRangeIn(t.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(n)}))}_enableShiftEnterHandling(){const t=this.editor,e=t.model,n=t.commands.get("shiftEnter");n&&n.on("execute",(()=>{const t=e.document.selection.getFirstPosition(),n=e.createRange(e.createPositionAt(t.parent,0),t.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(n)}))}_checkAndApplyAutoLinkOnRange(t){const e=this.editor.model,{text:n,range:i}=(0,r.Up)(t,e),o=u(n);if(o){const t=e.createRange(i.end.getShiftedBy(-o.length),i.end);this._applyAutoLink(o,t)}}_applyAutoLink(t,e){const n=this.editor.model,i=this.editor.plugins.get("Delete");this.isEnabled&&function(t,e){return e.schema.checkAttributeInSelection(e.createSelection(t),"linkHref")}(e,n)&&n.enqueueChange((o=>{const s=this.editor.config.get("link.defaultProtocol"),r=(0,a.nA)(t,s);o.setAttribute("linkHref",r,e),n.enqueueChange((()=>{i.requestUndoOnBackspace()}))}))}}function u(t){const e=c.exec(t);return e?e[2]:null}class d extends i.Sy{static get requires(){return[o.Z,s.Z,l]}static get pluginName(){return"Link"}}},j9su:(t,e,n)=>{"use strict";n.d(e,{Z:()=>w});var i=n("okJs"),o=n("VTpe"),s=n("hQ5P"),r=n("SJ3v"),a=n("T93q");class c{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(t){Array.isArray(t)?t.forEach((t=>this._definitions.add(t))):this._definitions.add(t)}getDispatcher(){return t=>{t.on("attribute:linkHref",((t,e,n)=>{if(!n.consumable.test(e.item,"attribute:linkHref"))return;if(!e.item.is("selection")&&!n.schema.isInline(e.item))return;const i=n.writer,o=i.document.selection;for(const t of this._definitions){const s=i.createAttributeElement("a",t.attributes,{priority:5});t.classes&&i.addClass(t.classes,s);for(const e in t.styles)i.setStyle(e,t.styles[e],s);i.setCustomProperty("link",!0,s),t.callback(e.attributeNewValue)?e.item.is("selection")?i.wrap(o.getFirstRange(),s):i.wrap(n.mapper.toViewRange(e.range),s):i.unwrap(n.mapper.toViewRange(e.range),s)}}),{priority:"high"})}}getDispatcherForLinkedImage(){return t=>{t.on("attribute:linkHref:imageBlock",((t,e,{writer:n,mapper:i})=>{const o=i.toViewElement(e.item),s=Array.from(o.getChildren()).find((t=>"a"===t.name));for(const t of this._definitions){const i=(0,a.qL)(t.attributes);if(t.callback(e.attributeNewValue)){for(const[t,e]of i)"class"===t?n.addClass(e,s):n.setAttribute(t,e,s);t.classes&&n.addClass(t.classes,s);for(const e in t.styles)n.setStyle(e,t.styles[e],s)}else{for(const[t,e]of i)"class"===t?n.removeClass(e,s):n.removeAttribute(t,s);t.classes&&n.removeClass(t.classes,s);for(const e in t.styles)n.removeStyle(e,s)}}}))}}}var l=n("/tlC");class u extends i.mY{constructor(t){super(t),this.manualDecorators=new a.FE,this.automaticDecorators=new c}restoreManualDecoratorStates(){for(const t of this.manualDecorators)t.value=this._getDecoratorStateFromModel(t.id)}refresh(){const t=this.editor.model,e=t.document.selection,n=e.getSelectedElement()||(0,a.Ps)(e.getSelectedBlocks());(0,l.tu)(n,t.schema)?(this.value=n.getAttribute("linkHref"),this.isEnabled=t.schema.checkAttribute(n,"linkHref")):(this.value=e.getAttribute("linkHref"),this.isEnabled=t.schema.checkAttributeInSelection(e,"linkHref"));for(const t of this.manualDecorators)t.value=this._getDecoratorStateFromModel(t.id)}execute(t,e={}){const n=this.editor.model,i=n.document.selection,o=[],r=[];for(const t in e)e[t]?o.push(t):r.push(t);n.change((e=>{if(i.isCollapsed){const c=i.getFirstPosition();if(i.hasAttribute("linkHref")){const a=(0,s.VD)(c,"linkHref",i.getAttribute("linkHref"),n);e.setAttribute("linkHref",t,a),o.forEach((t=>{e.setAttribute(t,!0,a)})),r.forEach((t=>{e.removeAttribute(t,a)})),e.setSelection(e.createPositionAfter(a.end.nodeBefore))}else if(""!==t){const s=(0,a.qL)(i.getAttributes());s.set("linkHref",t),o.forEach((t=>{s.set(t,!0)}));const{end:r}=n.insertContent(e.createText(t,s),c);e.setSelection(r)}["linkHref",...o,...r].forEach((t=>{e.removeSelectionAttribute(t)}))}else{const s=n.schema.getValidRanges(i.getRanges(),"linkHref"),a=[];for(const t of i.getSelectedBlocks())n.schema.checkAttribute(t,"linkHref")&&a.push(e.createRangeOn(t));const c=a.slice();for(const t of s)this._isRangeToUpdate(t,a)&&c.push(t);for(const n of c)e.setAttribute("linkHref",t,n),o.forEach((t=>{e.setAttribute(t,!0,n)})),r.forEach((t=>{e.removeAttribute(t,n)}))}}))}_getDecoratorStateFromModel(t){const e=this.editor.model,n=e.document.selection,i=n.getSelectedElement();return(0,l.tu)(i,e.schema)?i.getAttribute(t):n.getAttribute(t)}_isRangeToUpdate(t,e){for(const n of e)if(n.containsRange(t))return!1;return!0}}class d extends i.mY{refresh(){const t=this.editor.model,e=t.document.selection,n=e.getSelectedElement();(0,l.tu)(n,t.schema)?this.isEnabled=t.schema.checkAttribute(n,"linkHref"):this.isEnabled=t.schema.checkAttributeInSelection(e,"linkHref")}execute(){const t=this.editor,e=this.editor.model,n=e.document.selection,i=t.commands.get("link");e.change((t=>{const o=n.isCollapsed?[(0,s.VD)(n.getFirstPosition(),"linkHref",n.getAttribute("linkHref"),e)]:e.schema.getValidRanges(n.getRanges(),"linkHref");for(const e of o)if(this._removeLinkAttributes(t),i)for(const n of i.manualDecorators)t.removeAttribute(n.id,e)}))}_removeLinkAttributes(t){t.removeAttribute("linkHref",range),t.removeAttribute("linkTitle",range)}}class h{constructor({id:t,label:e,attributes:n,classes:i,styles:o,defaultValue:s}){this.id=t,this.set("value"),this.defaultValue=s,this.label=e,this.attributes=n,this.classes=i,this.styles=o}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}(0,a.CD)(h,a.Re);var m=n("LboF"),k=n.n(m),p=n("qJJe");k()(p.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),p.Z.locals;const g="automatic",f=/^(https?:)?\/\//;class w extends i.Sy{static get pluginName(){return"LinkEditing"}static get requires(){return[s.mh,s.II,r._l]}constructor(t){super(t),t.config.define("link",{addTargetToExternalLinks:!1})}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:"linkHref"}),t.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:l.$g}),t.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(t,e)=>(0,l.$g)((0,l.Up)(t),e)}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:t=>t.getAttribute("href")}}),t.commands.add("link",new u(t)),t.commands.add("unlink",new d(t));const e=(0,l.cb)(t.t,(0,l.Gd)(t.config.get("link.decorators")));this._enableAutomaticDecorators(e.filter((t=>t.mode===g))),this._enableManualDecorators(e.filter((t=>"manual"===t.mode))),t.plugins.get(s.mh).registerAttribute("linkHref"),(0,s.Im)(t,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink()}_enableAutomaticDecorators(t){const e=this.editor,n=e.commands.get("link").automaticDecorators;e.config.get("link.addTargetToExternalLinks")&&n.add({id:"linkIsExternal",mode:g,callback:t=>f.test(t),attributes:{target:"_blank",rel:"noopener noreferrer"}}),n.add(t),n.length&&e.conversion.for("downcast").add(n.getDispatcher())}_enableManualDecorators(t){if(!t.length)return;const e=this.editor,n=e.commands.get("link").manualDecorators;t.forEach((t=>{e.model.schema.extend("$text",{allowAttributes:t.id}),t=new h(t),n.add(t),e.conversion.for("downcast").attributeToElement({model:t.id,view:(e,{writer:n,schema:i},{item:o})=>{if(i.isInline(o)&&e){const e=n.createAttributeElement("a",t.attributes,{priority:5});t.classes&&n.addClass(t.classes,e);for(const i in t.styles)n.setStyle(i,t.styles[i],e);return n.setCustomProperty("link",!0,e),e}}}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",...t._createPattern()},model:{key:t.id}})}))}_enableLinkOpen(){const t=this.editor,e=t.editing.view.document,n=t.model.document;this.listenTo(e,"click",((t,e)=>{if(!(a.OB.isMac?e.domEvent.metaKey:e.domEvent.ctrlKey))return;let n=e.domTarget;if("a"!=n.tagName.toLowerCase()&&(n=n.closest("a")),!n)return;const i=n.getAttribute("href");i&&(t.stop(),e.preventDefault(),(0,l.nG)(i))}),{context:"$capture"}),this.listenTo(e,"enter",((t,e)=>{const i=n.selection,o=i.getSelectedElement(),s=o?o.getAttribute("linkHref"):i.getAttribute("linkHref");s&&e.domEvent.altKey&&(t.stop(),(0,l.nG)(s))}),{context:"a"})}_enableInsertContentSelectionAttributesFixer(){const t=this.editor.model,e=t.document.selection;this.listenTo(t,"insertContent",(()=>{const n=e.anchor.nodeBefore,i=e.anchor.nodeAfter;e.hasAttribute("linkHref")&&n&&n.hasAttribute("linkHref")&&(i&&i.hasAttribute("linkHref")||t.change((e=>{b(e,y(t.schema))})))}),{priority:"low"})}_enableClickingAfterLink(){const t=this.editor,e=t.model;t.editing.view.addObserver(o.dM);let n=!1;this.listenTo(t.editing.view.document,"mousedown",(()=>{n=!0})),this.listenTo(t.editing.view.document,"selectionChange",(()=>{if(!n)return;n=!1;const t=e.document.selection;if(!t.isCollapsed)return;if(!t.hasAttribute("linkHref"))return;const i=t.getFirstPosition(),o=(0,s.VD)(i,"linkHref",t.getAttribute("linkHref"),e);(i.isTouching(o.start)||i.isTouching(o.end))&&e.change((t=>{b(t,y(e.schema))}))}))}_enableTypingOverLink(){const t=this.editor,e=t.editing.view;let n,i;this.listenTo(e.document,"delete",(()=>{i=!0}),{priority:"high"}),this.listenTo(t.model,"deleteContent",(()=>{const e=t.model.document.selection;e.isCollapsed||(i?i=!1:v(t)&&function(t){const e=t.document.selection,n=e.getFirstPosition(),i=e.getLastPosition(),o=n.nodeAfter;if(!o)return!1;if(!o.is("$text"))return!1;if(!o.hasAttribute("linkHref"))return!1;return o===(i.textNode||i.nodeBefore)||(0,s.VD)(n,"linkHref",o.getAttribute("linkHref"),t).containsRange(t.createRange(n,i),!0)}(t.model)&&(n=e.getAttributes()))}),{priority:"high"}),this.listenTo(t.model,"insertContent",((e,[o])=>{i=!1,v(t)&&n&&(t.model.change((t=>{for(const[e,i]of n)t.setAttribute(e,i,o)})),n=null)}),{priority:"high"})}_handleDeleteContentAfterLink(){const t=this.editor,e=t.model,n=e.document.selection,i=t.editing.view;let o=!1,r=!1;this.listenTo(i.document,"delete",((t,e)=>{r=e.domEvent.keyCode===a.Do.backspace}),{priority:"high"}),this.listenTo(e,"deleteContent",(()=>{o=!1;const t=n.getFirstPosition(),i=n.getAttribute("linkHref");if(!i)return;const r=(0,s.VD)(t,"linkHref",i,e);o=r.containsPosition(t)||r.end.isEqual(t)}),{priority:"high"}),this.listenTo(e,"deleteContent",(()=>{r&&(r=!1,o||t.model.enqueueChange((t=>{b(t,y(e.schema))})))}),{priority:"low"})}}function b(t,e){t.removeSelectionAttribute("linkHref");for(const n of e)t.removeSelectionAttribute(n)}function v(t){return t.model.change((t=>t.batch)).isTyping}function y(t){return t.getDefinition("$text").allowAttributes.filter((t=>t.startsWith("link")))}},"O+K/":(t,e,n)=>{"use strict";n.d(e,{Z:()=>w});var i=n("okJs"),o=n("VTpe"),s=n("T93q"),r=n("j9su");class a extends i.Sy{static get requires(){return["ImageEditing","ImageUtils",r.Z]}static get pluginName(){return"LinkImageEditing"}init(){const t=this.editor,e=t.model.schema;t.plugins.has("ImageBlockEditing")&&e.extend("imageBlock",{allowAttributes:["linkHref"]}),t.plugins.has("ImageInlineEditing")&&e.extend("imageInline",{allowAttributes:["linkHref"]}),t.conversion.for("upcast").add(function(t){const e=t.plugins.has("ImageInlineEditing"),n=t.plugins.get("ImageUtils");return t=>{t.on("element:a",((t,i,o)=>{const s=i.viewItem,r=n.findViewImgElement(s);if(!r)return;const a=r.findAncestor((t=>n.isBlockImageView(t)));if(e&&!a)return;if(!o.consumable.consume(s,{attributes:["href"]}))return;const c=s.getAttribute("href");if(!c)return;let l=i.modelCursor.parent;if(!l.is("element","imageBlock")){const t=o.convertItem(r,i.modelCursor);i.modelRange=t.modelRange,i.modelCursor=t.modelCursor,l=i.modelCursor.nodeBefore}l&&l.is("element","imageBlock")&&o.writer.setAttribute("linkHref",c,l)}),{priority:"high"})}}(t)),t.conversion.for("downcast").add(function(t){const e=t.plugins.get("ImageUtils");return t=>{t.on("attribute:linkHref:imageBlock",((t,n,i)=>{if(!i.consumable.consume(n.item,t.name))return;const o=i.mapper.toViewElement(n.item),s=i.writer,r=Array.from(o.getChildren()).find((t=>"a"===t.name)),a=e.findViewImgElement(o),c=a.parent.is("element","picture")?a.parent:a;if(r)n.attributeNewValue?s.setAttribute("href",n.attributeNewValue,r):(s.move(s.createRangeOn(c),s.createPositionAt(o,0)),s.remove(r));else{const t=s.createContainerElement("a",{href:n.attributeNewValue});s.insert(s.createPositionAt(o,0),t),s.move(s.createRangeOn(c),s.createPositionAt(t,0))}}),{priority:"high"})}}(t)),this._enableAutomaticDecorators(),this._enableManualDecorators()}_enableAutomaticDecorators(){const t=this.editor,e=t.commands.get("link").automaticDecorators;e.length&&t.conversion.for("downcast").add(e.getDispatcherForLinkedImage())}_enableManualDecorators(){const t=this.editor,e=t.commands.get("link");for(const n of e.manualDecorators)t.plugins.has("ImageBlockEditing")&&t.model.schema.extend("imageBlock",{allowAttributes:n.id}),t.plugins.has("ImageInlineEditing")&&t.model.schema.extend("imageInline",{allowAttributes:n.id}),t.conversion.for("downcast").add(c(n)),t.conversion.for("upcast").add(l(t,n))}}function c(t){return e=>{e.on(`attribute:${t.id}:imageBlock`,((e,n,i)=>{const o=i.mapper.toViewElement(n.item),r=Array.from(o.getChildren()).find((t=>"a"===t.name));if(r){for(const[e,n]of(0,s.qL)(t.attributes))i.writer.setAttribute(e,n,r);t.classes&&i.writer.addClass(t.classes,r);for(const e in t.styles)i.writer.setStyle(e,t.styles[e],r)}}))}}function l(t,e){const n=t.plugins.has("ImageInlineEditing"),i=t.plugins.get("ImageUtils");return t=>{t.on("element:a",((t,s,r)=>{const a=s.viewItem,c=i.findViewImgElement(a);if(!c)return;const l=c.findAncestor((t=>i.isBlockImageView(t)));if(n&&!l)return;const u=new o.xO(e._createPattern()).match(a);if(!u)return;if(!r.consumable.consume(a,u.match))return;const d=s.modelCursor.nodeBefore||s.modelCursor.parent;r.writer.setAttribute(e.id,!0,d)}),{priority:"high"})}}var u=n("AtQH"),d=n("lO7N"),h=n("/tlC"),m=n("4re+");class k extends i.Sy{static get requires(){return[r.Z,d.Z,"ImageBlockEditing"]}static get pluginName(){return"LinkImageUI"}init(){const t=this.editor,e=t.editing.view.document;this.listenTo(e,"click",((e,n)=>{this._isSelectedLinkedImage(t.model.document.selection)&&(n.preventDefault(),e.stop())}),{priority:"high"}),this._createToolbarLinkImageButton()}_createToolbarLinkImageButton(){const t=this.editor,e=t.t;t.ui.componentFactory.add("linkImage",(n=>{const i=new u.r5(n),o=t.plugins.get("LinkUI"),s=t.commands.get("link");return i.set({isEnabled:!0,label:e("Link image"),icon:m.Z,keystroke:h.qN,tooltip:!0,isToggleable:!0}),i.bind("isEnabled").to(s,"isEnabled"),i.bind("isOn").to(s,"value",(t=>!!t)),this.listenTo(i,"execute",(()=>{this._isSelectedLinkedImage(t.model.document.selection)?o._addActionsView():o._showUI(!0)})),i}))}_isSelectedLinkedImage(t){const e=t.getSelectedElement();return this.editor.plugins.get("ImageUtils").isImage(e)&&e.hasAttribute("linkHref")}}var p=n("LboF"),g=n.n(p),f=n("iM+U");g()(f.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),f.Z.locals;class w extends i.Sy{static get requires(){return[a,k]}static get pluginName(){return"LinkImage"}}},lO7N:(t,e,n)=>{"use strict";n.d(e,{Z:()=>w});var i=n("okJs"),o=n("VTpe"),s=n("AtQH"),r=n("VZWH"),a=n("T93q"),c=(n("hRQt"),n("LboF")),l=n.n(c),u=n("cJwu");l()(u.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),u.Z.locals;class d extends s.G7{constructor(t,e){super(t);const n=t.t;this.focusTracker=new a.Rh,this.keystrokes=new a.VD,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(n("Save"),i.icons.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(n("Cancel"),i.icons.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(e),this.children=this._createFormChildren(e.manualDecorators),this._focusables=new s.vX,this._focusCycler=new s.I0({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const o=["ck","ck-link-form","ck-responsive-form"];e.manualDecorators.length&&o.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:o,tabindex:"-1"},children:this.children}),(0,s.fe)(this)}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce(((t,e)=>(t[e.name]=e.isOn,t)),{})}render(){super.render(),(0,s.GI)({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach((t=>{this._focusables.add(t),this.focusTracker.add(t.element)})),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const t=this.locale.t,e=new s.KP(this.locale,s.R);return e.label=t("Link URL"),e}_createButton(t,e,n,i){const o=new s.r5(this.locale);return o.set({label:t,icon:e,tooltip:!0}),o.extendTemplate({attributes:{class:n}}),i&&o.delegate("execute").to(this,i),o}_createManualDecoratorSwitches(t){const e=this.createCollection();for(const n of t.manualDecorators){const i=new s.BM(this.locale);i.set({name:n.id,label:n.label,withText:!0}),i.bind("isOn").toMany([n,t],"value",((t,e)=>void 0===e&&void 0===t?n.defaultValue:t)),i.on("execute",(()=>{n.set("value",!i.isOn)})),e.add(i)}return e}_createFormChildren(t){const e=this.createCollection();if(e.add(this.urlInputView),t.length){const t=new s.G7;t.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map((t=>({tag:"li",children:[t],attributes:{class:["ck","ck-list__item"]}}))),attributes:{class:["ck","ck-reset","ck-list"]}}),e.add(t)}return e.add(this.saveButtonView),e.add(this.cancelButtonView),e}}class h extends s.G7{constructor(t){super(t);const e=t.t;this.focusTracker=new a.Rh,this.keystrokes=new a.VD,this.titleInputView=this.createTitleInput(),this.saveButtonView=this.createButton(e("Save"),i.icons.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this.createButton(e("Cancel"),i.icons.cancel,"ck-button-cancel","cancel"),this.children=this.createFormChildren(),this._focusables=new s.vX,this._focusCycler=new s.I0({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-link-form","ck-responsive-form"],tabindex:"-1"},children:this.children}),(0,s.fe)(this)}render(){super.render(),(0,s.GI)({view:this}),[this.titleInputView,this.saveButtonView,this.cancelButtonView].forEach((t=>{this._focusables.add(t),this.focusTracker.add(t.element)})),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}createTitleInput(){const t=this.locale.t,e=new s.KP(this.locale,s.R);return e.label=t("Anchor's title"),e}createButton(t,e,n,i){const o=new s.r5(this.locale);return o.set({label:t,icon:e,tooltip:!0}),o.extendTemplate({attributes:{class:n}}),i&&o.delegate("execute").to(this,i),o}createFormChildren(){const t=this.createCollection();return t.add(this.titleInputView),t.add(this.saveButtonView),t.add(this.cancelButtonView),t}}var m=n("/tlC"),k=n("tupl");l()(k.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),k.Z.locals;class p extends s.G7{constructor(t){super(t);const e=t.t;this.focusTracker=new a.Rh,this.keystrokes=new a.VD,this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(e("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(e("Edit link"),i.icons.pencil,"edit"),this.editTitleAnchorButtonView=this._createButton(e("Edit anchor's title"),i.icons.cog,"anchorTitle"),this.set("href"),this._focusables=new s.vX,this._focusCycler=new s.I0({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.editTitleAnchorButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.editTitleAnchorButtonView,this.unlinkButtonView].forEach((t=>{this._focusables.add(t),this.focusTracker.add(t.element)})),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(t,e,n){const i=new s.r5(this.locale);return i.set({label:t,icon:e,tooltip:!0}),i.delegate("execute").to(this,n),i}_createPreviewButton(){const t=new s.r5(this.locale),e=this.bindTemplate,n=this.t;return t.set({withText:!0,tooltip:n("Open link in new tab")}),t.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:e.to("href",(t=>t&&(0,m.Up)(t))),target:"_blank",rel:"noopener noreferrer"}}),t.bind("label").to(this,"href",(t=>t||n("This link has no URL"))),t.bind("isEnabled").to(this,"href",(t=>!!t)),t.template.tag="a",t.template.eventListeners={},t}}var g=n("4re+");const f="link-ui";class w extends i.Sy{static get requires(){return[s.WB]}static get pluginName(){return"LinkUI"}init(){const t=this.editor;t.editing.view.addObserver(o.KU),this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this.anchorTitleFormView=this._createAnchorTitleFormView(),this._balloon=t.plugins.get(s.WB),this._createToolbarLinkButton(),this._enableUserBalloonInteractions(),t.conversion.for("editingDowncast").markerToHighlight({model:f,view:{classes:["ck-fake-link-selection"]}}),t.conversion.for("editingDowncast").markerToElement({model:f,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}destroy(){super.destroy(),this.destroyFormViews()}destroyFormViews(){this.formView.destroy(),this.anchorTitleFormView.destroy()}_createActionsView(){const t=this.editor,e=new p(t.locale),n=t.commands.get("link"),i=t.commands.get("unlink"),o=t.commands.get("insertLinkTitleCommand");return e.bind("href").to(n,"value"),e.editButtonView.bind("isEnabled").to(n),e.unlinkButtonView.bind("isEnabled").to(i),e.editTitleAnchorButtonView.bind("isEnabled").to(o),this.listenTo(e,"edit",(()=>{this._addFormView()})),this.listenTo(e,"anchorTitle",(()=>{this._addAnchorTitleFormView()})),this.listenTo(e,"unlink",(()=>{t.execute("unlink"),this._hideUI()})),e.keystrokes.set("Esc",((t,e)=>{this._hideUI(),e()})),e.keystrokes.set(m.qN,((t,e)=>{this._addFormView(),e()})),e}_createFormView(){const t=this.editor,e=t.commands.get("link"),n=t.config.get("link.defaultProtocol"),i=new d(t.locale,e);return i.urlInputView.fieldView.bind("value").to(e,"value"),i.urlInputView.bind("isReadOnly").to(e,"isEnabled",(t=>!t)),i.saveButtonView.bind("isEnabled").to(e),this.listenTo(i,"submit",(()=>{const{value:e}=i.urlInputView.fieldView.element,o=(0,m.nA)(e,n);t.execute("link",o,i.getDecoratorSwitchesState()),this._closeFormView()})),this.listenTo(i,"cancel",(()=>{this._closeFormView()})),i.keystrokes.set("Esc",((t,e)=>{this._closeFormView(),e()})),i}_createAnchorTitleFormView(){const t=this.editor,e=t.commands.get("insertLinkTitleCommand"),n=new h(t.locale,e);return n.titleInputView.fieldView.bind("value").to(e,"value"),n.titleInputView.bind("isReadOnly").to(e,"isEnabled",(t=>!t)),n.saveButtonView.bind("isEnabled").to(e),this.listenTo(n,"submit",(()=>{const{value:e}=n.titleInputView.fieldView.element;t.execute("insertLinkTitleCommand",{newValue:e}),this._closeAnchorTitleFormView()})),this.listenTo(n,"cancel",(()=>{this._closeAnchorTitleFormView()})),n.keystrokes.set("Esc",((t,e)=>{this._closeAnchorTitleFormView(),e()})),n}_createToolbarLinkButton(){const t=this.editor,e=t.commands.get("link"),n=t.t;t.keystrokes.set(m.qN,((t,n)=>{n(),e.isEnabled&&this._showUI(!0)})),t.ui.componentFactory.add("link",(t=>{const i=new s.r5(t);return i.isEnabled=!0,i.label=n("Link"),i.icon=g.Z,i.keystroke=m.qN,i.tooltip=!0,i.isToggleable=!0,i.bind("isEnabled").to(e,"isEnabled"),i.bind("isOn").to(e,"value",(t=>!!t)),this.listenTo(i,"execute",(()=>this._showUI(!0))),i}))}_enableUserBalloonInteractions(){const t=this.editor.editing.view.document;this.listenTo(t,"click",(()=>{this._getSelectedLinkElement()&&this._showUI()})),this.editor.keystrokes.set("Tab",((t,e)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),e())}),{priority:"high"}),this.editor.keystrokes.set("Esc",((t,e)=>{this._isUIVisible&&(this._hideUI(),e())})),this.handleOutsideClickFor(this.formView),this.handleOutsideClickFor(this.anchorTitleFormView)}handleOutsideClickFor(t){(0,s.eC)({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this._isFormInPanel)return;const t=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions(),this.formView.urlInputView.fieldView.element.value=t.value||""}_addAnchorTitleFormView(){if(this._isAnchorTitleFormInPanel)return;const t=this.editor.commands.get("insertLinkTitleCommand");this.anchorTitleFormView.disableCssTransitions(),this._balloon.add({view:this.anchorTitleFormView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.anchorTitleFormView&&this.anchorTitleFormView.titleInputView.fieldView.select(),this.anchorTitleFormView.enableCssTransitions(),this.anchorTitleFormView.titleInputView.fieldView.element.value=t.value||""}_closeFormView(){const t=this.editor.commands.get("link");t.restoreManualDecoratorStates(),void 0!==t.value?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_closeAnchorTitleFormView(){void 0!==this.editor.commands.get("insertLinkTitleCommand").value?this._removeAnchorTitleFormView():this._hideUI()}_removeAnchorTitleFormView(){this._isAnchorTitleFormInPanel&&(this.anchorTitleFormView.saveButtonView.focus(),this._balloon.remove(this.anchorTitleFormView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(t=!1){this._getSelectedLinkElement()?(this._areActionsVisible?this.addFormViews():this._addActionsView(),t&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),t&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}addFormViews(){this._addFormView(),this._addAnchorTitleFormView()}_hideUI(){if(!this._isUIInPanel)return;const t=this.editor;this.stopListening(t.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),t.editing.view.focus(),this.removeFormViews(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}removeFormViews(){this._removeFormView(),this._removeAnchorTitleFormView()}_startUpdatingUI(){const t=this.editor,e=t.editing.view.document;let n=this._getSelectedLinkElement(),i=s();const o=()=>{const t=this._getSelectedLinkElement(),e=s();n&&!t||!n&&e!==i?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),n=t,i=e};function s(){return e.selection.focus.getAncestors().reverse().find((t=>t.is("element")))}this.listenTo(t.ui,"update",o),this.listenTo(this._balloon,"change:visibleView",o)}get _isAnchorTitleFormInPanel(){return this._balloon.hasView(this.anchorTitleFormView)}get _isFormInPanel(){return this._balloon.hasView(this.formView)}get _areActionsInPanel(){return this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._isAnchorTitleFormInPanel||this._areActionsInPanel}get _isUIVisible(){const t=this._balloon.visibleView;return t==this.formView||t==this.anchorTitleFormView||this._areActionsVisible}_getBalloonPositionData(){const t=this.editor.editing.view,e=this.editor.model,n=t.document;let i=null;if(e.markers.has(f)){const e=Array.from(this.editor.editing.mapper.markerNameToElements(f)),n=t.createRange(t.createPositionBefore(e[0]),t.createPositionAfter(e[e.length-1]));i=t.domConverter.viewRangeToDom(n)}else i=()=>{const e=this._getSelectedLinkElement();return e?t.domConverter.mapViewToDom(e):t.domConverter.viewRangeToDom(n.selection.getFirstRange())};return{target:i}}_getSelectedLinkElement(){const t=this.editor.editing.view,e=t.document.selection,n=e.getSelectedElement();if(e.isCollapsed||n&&(0,r.Qd)(n))return b(e.getFirstPosition());{const n=e.getFirstRange().getTrimmed(),i=b(n.start),o=b(n.end);return i&&i==o&&t.createRangeIn(i).getTrimmed().isEqual(n)?i:null}}_showFakeVisualSelection(){const t=this.editor.model;t.change((e=>{const n=t.document.selection.getFirstRange();if(t.markers.has(f))e.updateMarker(f,{range:n});else if(n.start.isAtEnd){const i=n.start.getLastMatchingPosition((({item:e})=>!t.schema.isContent(e)),{boundaries:n});e.addMarker(f,{usingOperation:!1,affectsData:!1,range:e.createRange(i,n.end)})}else e.addMarker(f,{usingOperation:!1,affectsData:!1,range:n})}))}_hideFakeVisualSelection(){const t=this.editor.model;t.markers.has(f)&&t.change((t=>{t.removeMarker(f)}))}}function b(t){return t.getAncestors().find((t=>(0,m.jI)(t)))}},"/tlC":(t,e,n)=>{"use strict";n.d(e,{$g:()=>u,Gd:()=>m,Up:()=>d,cb:()=>h,jI:()=>l,nA:()=>p,nG:()=>g,qN:()=>c,tu:()=>k});var i=n("yMof");const o=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,s=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,r=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,a=/^((\w+:(\/{2,})?)|(\W))/i,c="Ctrl+K";function l(t){return t.is("attributeElement")&&(!!t.getCustomProperty("link")||!!t.getCustomProperty("customLink"))}function u(t,{writer:e}){const n=e.createAttributeElement("a",{href:t},{priority:5});return e.setCustomProperty("link",!0,n),n}function d(t){return function(t){return t.replace(o,"").match(s)}(t=String(t))?t:"#"}function h(t,e){const n={"Open in a new tab":t("Open in a new tab"),Downloadable:t("Downloadable")};return e.forEach((t=>(t.label&&n[t.label]&&(t.label=n[t.label]),t))),e}function m(t){const e=[];if(t)for(const[n,o]of Object.entries(t)){const t=Object.assign({},o,{id:`link${(0,i.Z)(n)}`});e.push(t)}return e}function k(t,e){return!!t&&e.checkAttribute(t.name,"linkHref")}function p(t,e){const n=(i=t,r.test(i)?"mailto:":e);var i;const o=!!n&&!a.test(t);return t&&o?n+t:t}function g(t){window.open(t,"_blank","noopener")}},PfFb:(t,e,n)=>{"use strict";n.d(e,{Z:()=>J});var i=n("EJsP"),o=n("gpTf"),s=n("eb8g"),r=n("ZuBW"),a=n("kB3f"),c=n("7Urw"),l=n("oH3Z"),u=n("k0HW");function d(t){return t.match(/^(\\\[.*?\\\]|\\\(.*?\\\))$/)}function h(t){const e=(t=t.trim()).includes("\\(")&&t.includes("\\)"),n=t.includes("\\[")&&t.includes("\\]");return(e||n)&&(t=t.substring(2,t.length-2).trim()),{equation:t,display:n}}async function m(t,e,n="katex",i,o=!1,s=!1,r,a=[]){if("mathjax"===n&&"undefined"!=typeof MathJax)(c=MathJax.version)&&"string"==typeof c&&3===c.split(".").length&&"3"===c.split(".")[0]?p(e,s,r,a,(n=>{!function(t,e,n,i){let o;void 0!==MathJax.tex2chtmlPromise?o=MathJax.tex2chtmlPromise:void 0!==MathJax.tex2svgPromise&&(o=MathJax.tex2svgPromise),void 0!==o&&o(t,{display:n}).then((t=>{e.firstChild&&e.removeChild(e.firstChild),e.appendChild(t),MathJax.startup.document.clear(),MathJax.startup.document.updateDocument(),i()}))}(t,n,o,(()=>{s&&(g(e,n),n.style.visibility="visible")}))})):p(e,s,r,a,(n=>{l.default.window.setTimeout((()=>{!function(t,e,n){e.innerHTML=n?"\\["+t+"\\]":"\\("+t+"\\)",MathJax.Hub.Queue(["Typeset",MathJax.Hub,e])}(t,n,o),s&&MathJax.Hub.Queue((()=>{g(e,n),n.style.visibility="visible"}))}))}));else if("katex"===n&&"undefined"!=typeof katex)p(e,s,r,a,(n=>{katex.render(t,n,{throwOnError:!1,displayMode:o}),s&&(g(e,n),n.style.visibility="visible")}));else if("function"==typeof n)n(t,e,o);else if(void 0!==i)try{l.default.window.CKEDITOR_MATH_LAZY_LOAD||(l.default.window.CKEDITOR_MATH_LAZY_LOAD=i()),e.innerHTML=t,await l.default.window.CKEDITOR_MATH_LAZY_LOAD,m(t,e,n,void 0,o,s,r,a)}catch(n){e.innerHTML=t,console.error(`math-tex-typesetting-lazy-load-failed: Lazy load failed: ${n}`)}else e.innerHTML=t,console.warn(`math-tex-typesetting-missing: Missing the mathematical typesetting engine (${n}) for tex.`);var c}function k(t){const e=t.editing.view,n=u.Z.defaultPositions,i=e.document.selection.getSelectedElement();if(i)return{target:e.domConverter.viewToDom(i),positions:[n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast]};{const t=e.document;return{target:e.domConverter.viewRangeToDom(t.selection.getFirstRange()),positions:[n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast]}}}function p(t,e,n,i,o){e?function(t,e,n,i){const s=function(t,e,n){let i=l.default.document.getElementById(e);if(!i){i=l.default.document.createElement("div"),i.setAttribute("id",e),i.classList.add(...n),i.style.visibility="hidden",l.default.document.body.appendChild(i);let o=!1;const s=()=>{o||(l.default.window.requestAnimationFrame((()=>{f(t,i),o=!1})),o=!0)};l.default.window.addEventListener("resize",s),l.default.window.addEventListener("scroll",s)}return i}(t,e,n);(t=>{o(t)})(s)}(t,n,i):o(t)}function g(t,e){f(t,e);const n=e.getBoundingClientRect();t.style.width=n.width+"px",t.style.height=n.height+"px"}function f(t,e){const n=t.getBoundingClientRect(),i=l.default.window.scrollX+n.left,o=l.default.window.scrollY+n.top;e.style.position="absolute",e.style.left=i+"px",e.style.top=o+"px",e.style.zIndex="var(--ck-z-modal)",e.style.pointerEvents="none"}var w=n("LUTd"),b=n("yC47"),v=n("NJNm"),y=n("pOaW"),A=n("vZ+X"),C=n("/fC0"),_=n("NTy5"),x=n("kduz"),E=n("dos5"),T=n("DQLG"),V=n("Syw5"),I=n("RYzq"),D=n("qx8a");class B extends b.Z{constructor(t,e,n,i,o){super(n),this.engine=t,this.lazyLoad=e,this.previewUid=i,this.previewClassName=o,this.set("value",""),this.set("display",!1),this.on("change",(()=>{this.isRendered&&this.updateMath()})),this.setTemplate({tag:"div",attributes:{class:["ck","ck-math-preview"]}})}updateMath(){m(this.value,this.element,this.engine,this.lazyLoad,this.display,!0,this.previewUid,this.previewClassName)}render(){super.render(),this.updateMath()}}var S=n("LboF"),M=n.n(S),L=n("0AAk");M()(L.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),L.Z.locals;class F extends b.Z{constructor(t,e,n,i,o,s,r){super(t);const a=t.t;this._createKeyAndFocusTrackers(),this.saveButtonView=this._createButton(a("Save"),V.Z,"ck-button-save",null),this.saveButtonView.type="submit",this.mathInputView=this._createMathInput(),this.displayButtonView=this._createDisplayButton(),this.cancelButtonView=this._createButton(a("Cancel"),I.Z,"ck-button-cancel","cancel"),this.previewEnabled=i;let c=[];this.previewEnabled?(this.previewLabel=new _.Z(t),this.previewLabel.text=a("Equation preview"),this.mathView=new B(e,n,t,o,s),this.mathView.bind("display").to(this.displayButtonView,"isOn"),c=[this.mathInputView,this.displayButtonView,this.previewLabel,this.mathView]):c=[this.mathInputView,this.displayButtonView],this.setTemplate({tag:"form",attributes:{class:["ck","ck-math-form",...r],tabindex:"-1",spellcheck:"false"},children:[{tag:"div",attributes:{class:["ck-math-view"]},children:c},this.saveButtonView,this.cancelButtonView]})}render(){super.render(),(0,D.Z)({view:this}),[this.mathInputView,this.displayButtonView,this.saveButtonView,this.cancelButtonView].forEach((t=>{this._focusables.add(t),this.focusTracker.add(t.element)})),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}get equation(){return this.mathInputView.inputView.element.value}set equation(t){this.mathInputView.inputView.element.value=t,this.previewEnabled&&(this.mathView.value=t)}_createKeyAndFocusTrackers(){this.focusTracker=new E.Z,this.keystrokes=new x.Z,this._focusables=new v.Z,this._focusCycler=new T.Z({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}})}_createMathInput(){const t=this.locale.t,e=new A.Z(this.locale,C.Z),n=e.inputView;e.infoText=t("Insert equation in TeX format.");const i=()=>{if(null!=n.element){let t=n.element.value.trim();if(d(t)){const e=h(t);n.element.value=e.equation,t=e.equation,this.displayButtonView.isOn=e.display}this.previewEnabled&&(this.mathView.value=t),this.saveButtonView.isEnabled=!!t}};return n.on("render",i),n.on("input",i),e}_createButton(t,e,n,i){const o=new w.Z(this.locale);return o.set({label:t,icon:e,tooltip:!0}),o.extendTemplate({attributes:{class:n}}),i&&o.delegate("execute").to(this,i),o}_createDisplayButton(){const t=this.locale.t,e=new y.Z(this.locale);return e.set({label:t("Display mode"),withText:!0}),e.extendTemplate({attributes:{class:"ck-button-display-toggle"}}),e.on("execute",(()=>{e.isOn=!e.isOn,this.previewEnabled&&(this.mathView.display=e.isOn)})),e}}var N=n("1z0h"),P=n("ZS9y");class H extends P.Z{execute(t,e,n,i){const o=this.editor.model,s=o.document.selection.getSelectedElement();o.change((r=>{let a;if(s&&(s.is("element","mathtex-inline")||s.is("element","mathtex-display"))){const o=s.getAttribute("type"),c=i?n:o||n;a=r.createElement(e?"mathtex-display":"mathtex-inline",{equation:t,type:c,display:e})}else a=r.createElement(e?"mathtex-display":"mathtex-inline",{equation:t,type:n,display:e});o.insertContent(a)}))}refresh(){const t=this.editor.model.document.selection,e=t.getSelectedElement();this.isEnabled=null===e||e.is("element","mathtex-inline")||e.is("element","mathtex-display");const n=function(t){const e=t.getSelectedElement();return e&&(e.is("element","mathtex-inline")||e.is("element","mathtex-display"))?e:null}(t);this.value=n?n.getAttribute("equation"):null,this.display=n?n.getAttribute("display"):null}}class O extends i.Z{static get requires(){return[o.Z]}static get pluginName(){return"MathEditing"}init(){const t=this.editor;t.commands.add("math",new H(t)),this._defineSchema(),this._defineConverters(),t.editing.mapper.on("viewToModelPosition",(0,N.$n)(t.model,(t=>t.hasClass("math")))),t.config.define("math",{engine:"mathjax",outputType:"script",forceOutputType:!1,enablePreview:!0,previewClassName:[],popupClassName:[]})}_defineSchema(){const t=this.editor.model.schema;t.register("mathtex-inline",{allowWhere:"$text",isInline:!0,isObject:!0,allowAttributes:["equation","type","display"]}),t.register("mathtex-display",{allowWhere:"$block",isInline:!1,isObject:!0,allowAttributes:["equation","type","display"]})}_defineConverters(){const t=this.editor.conversion,e=this.editor.config.get("math");function n(t,n){const i=t.getAttribute("equation"),o=t.getAttribute("display"),s="user-select: none; "+(o?"":"display: inline-block;"),r="ck-math-tex "+(o?"ck-math-tex-display":"ck-math-tex-inline"),a=n.createContainerElement(o?"div":"span",{style:s,class:r}),c=n.createUIElement("div",null,(function(t){const n=this.toDomElement(t);return m(i,n,e.engine,e.lazyLoad,o,!1),n}));return n.insert(n.createPositionAt(a,0),c),a}function i(t,{writer:e}){const n=t.getAttribute("equation"),i=t.getAttribute("type"),o=t.getAttribute("display");if("span"===i){const t=e.createContainerElement("span",{class:"math-tex"});return o?e.insert(e.createPositionAt(t,0),e.createText("\\["+n+"\\]")):e.insert(e.createPositionAt(t,0),e.createText("\\("+n+"\\)")),t}{const t=e.createContainerElement("script",{type:o?"math/tex; mode=display":"math/tex"});return e.insert(e.createPositionAt(t,0),e.createText(n)),t}}t.for("upcast").elementToElement({view:{name:"script",attributes:{type:"math/tex"}},model:(t,{writer:n})=>{const i=t.getChild(0).data.trim();return n.createElement("mathtex-inline",{equation:i,type:e.forceOutputType?e.outputType:"script",display:!1})}}).elementToElement({view:{name:"script",attributes:{type:"math/tex; mode=display"}},model:(t,{writer:n})=>{const i=t.getChild(0).data.trim();return n.createElement("mathtex-display",{equation:i,type:e.forceOutputType?e.outputType:"script",display:!0})}}).elementToElement({view:{name:"span",classes:["math-tex"]},model:(t,{writer:n})=>{const i=t.getChild(0).data.trim(),o=Object.assign(h(i),{type:e.forceOutputType?e.outputType:"span"});return n.createElement(o.display?"mathtex-display":"mathtex-inline",o)}}).elementToElement({view:{name:"span",classes:["ql-formula"]},model:(t,{writer:n})=>{const i=t.getAttribute("data-value").trim();return n.createElement("mathtex-inline",{equation:i,type:e.forceOutputType?e.outputType:"script",display:!1})}}),t.for("editingDowncast").elementToElement({model:"mathtex-inline",view:(t,{writer:e})=>{const i=n(t,e);return(0,N.XC)(i,e,"span")}}).elementToElement({model:"mathtex-display",view:(t,{writer:e})=>{const i=n(t,e);return(0,N.XC)(i,e,"div")}}),t.for("dataDowncast").elementToElement({model:"mathtex-inline",view:i}).elementToElement({model:"mathtex-display",view:i})}}const U="Ctrl+M";class z extends i.Z{static get requires(){return[r.Z,O]}static get pluginName(){return"MathUI"}init(){const t=this.editor;t.editing.view.addObserver(s.Z),this._previewUid=`math-preview-${(0,c.Z)()}`,this.formView=this._createFormView(),this._balloon=t.plugins.get(r.Z),this._createToolbarMathButton(),this._enableUserBalloonInteractions()}destroy(){super.destroy(),this.formView.destroy();const t=l.default.document.getElementById(this._previewUid);t&&t.parentNode.removeChild(t)}_showUI(){this.editor.commands.get("math").isEnabled&&(this._addFormView(),this._balloon.showStack("main"))}_createFormView(){const t=this.editor,e=t.commands.get("math"),n=t.config.get("math"),i=new F(t.locale,n.engine,n.lazyLoad,n.enablePreview,this._previewUid,n.previewClassName,n.popupClassName);return i.mathInputView.bind("value").to(e,"value"),i.displayButtonView.bind("isOn").to(e,"display"),i.mathInputView.bind("isReadOnly").to(e,"isEnabled",(t=>!t)),i.saveButtonView.bind("isEnabled").to(e),i.displayButtonView.bind("isEnabled").to(e),this.listenTo(i,"submit",(()=>{t.execute("math",i.equation,i.displayButtonView.isOn,n.outputType,n.forceOutputType),this._closeFormView()})),this.listenTo(i,"cancel",(()=>{this._closeFormView()})),i.keystrokes.set("esc",((t,e)=>{this._closeFormView(),e()})),i}_addFormView(){if(this._isFormInPanel)return;const t=this.editor,e=t.commands.get("math");this._balloon.add({view:this.formView,position:k(t)}),this._balloon.visibleView===this.formView&&this.formView.mathInputView.select(),l.default.document.getElementById(this._previewUid)&&this.formView.previewEnabled&&this.formView.mathView.updateMath(),this.formView.equation=e.value||"",this.formView.displayButtonView.isOn=e.display||!1}_hideUI(){if(!this._isFormInPanel)return;const t=this.editor;this.stopListening(t.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),t.editing.view.focus(),this._removeFormView()}_closeFormView(){void 0!==this.editor.commands.get("math").value?this._removeFormView():this._hideUI()}_removeFormView(){if(this._isFormInPanel){this.formView.saveButtonView.focus(),this._balloon.remove(this.formView);const t=l.default.document.getElementById(this._previewUid);t&&(t.style.visibility="hidden"),this.editor.editing.view.focus()}}_createToolbarMathButton(){const t=this.editor,e=t.commands.get("math"),n=t.t;t.keystrokes.set(U,((t,n)=>{n(),e.isEnabled&&this._showUI()})),this.editor.ui.componentFactory.add("math",(t=>{const i=new w.Z(t);return i.isEnabled=!0,i.label=n("Insert math"),i.icon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.44 10.78" height="40.74" width="58.35"><path d="M8.15 0c-.06 0-.1.02-.11.03a.12.12 0 0 0-.02.01 6.81 6.81 0 0 0-2.32 4.9v.9a6.82 6.82 0 0 0 2.32 4.9.12.12 0 0 0 .02 0c.02.02.06.04.11.04.07 0 .12-.03.16-.07a.22.22 0 0 0 0-.32.12.12 0 0 0-.02-.02A4.4 4.4 0 0 1 7 8.44a7.62 7.62 0 0 1-.5-2.6v-.9c0-.82.19-1.76.5-2.6A4.4 4.4 0 0 1 8.3.42.12.12 0 0 0 8.3.39a.22.22 0 0 0 .08-.16.22.22 0 0 0-.07-.16.22.22 0 0 0-.16-.07zm4.83 0a.22.22 0 0 0-.16.07.22.22 0 0 0-.07.16c0 .08.05.13.08.16a.12.12 0 0 0 .01.02c.52.39.98 1.1 1.3 1.94.3.83.49 1.77.49 2.6v.88c0 .83-.18 1.78-.5 2.6a4.4 4.4 0 0 1-1.29 1.95.22.22 0 0 0-.01.33c.03.04.08.07.15.07.05 0 .09-.02.12-.03a.12.12 0 0 0 .02-.01 6.82 6.82 0 0 0 2.32-4.9v-.9a6.81 6.81 0 0 0-2.32-4.9.12.12 0 0 0-.02 0c-.03-.02-.06-.04-.12-.04zm-8.5.46c-.4 0-1.13.23-1.46 1.32-.06.2-.11.45-.33 1.58h-.64c-.1 0-.19-.01-.28.03a.25.25 0 0 0-.12.12.38.38 0 0 0-.03.17c0 .04 0 .1.04.14.03.04.07.07.11.08.09.03.16.02.26.02h.56l-.77 4.04c-.1.51-.19 1-.32 1.36-.06.18-.14.32-.22.4-.08.1-.16.13-.26.13-.03 0-.1 0-.2-.03.11-.05.2-.13.26-.2a.7.7 0 0 0 .13-.4.48.48 0 0 0-.16-.38.53.53 0 0 0-.35-.12c-.34 0-.7.3-.7.76 0 .27.14.5.34.64s.44.2.68.2c.33 0 .61-.17.83-.4.21-.21.37-.48.47-.69.18-.35.32-.84.43-1.25a14.17 14.17 0 0 0 .18-.8l.61-3.26h.81c.1 0 .2.01.3-.03.04-.03.09-.07.11-.13.02-.05.03-.1.03-.17 0-.05-.01-.1-.05-.14a.23.23 0 0 0-.11-.07c-.08-.03-.16-.02-.25-.02h-.73l.2-1.07a26.3 26.3 0 0 1 .24-1.07c.08-.17.22-.3.39-.3l.21.05a.7.7 0 0 0-.25.2.7.7 0 0 0-.13.4c0 .15.06.28.16.37.1.08.22.12.35.12.34 0 .7-.3.7-.76 0-.28-.15-.5-.35-.64-.2-.14-.45-.2-.7-.2zm5.4 2.78c-.6 0-1.06.37-1.36.76-.16.2-.27.4-.35.57-.07.18-.12.3-.12.42 0 .1.08.18.14.2.06.03.1.02.1.02.06 0 .12 0 .18-.04.05-.05.07-.1.08-.17v.02c.35-1.09 1-1.3 1.3-1.3.09 0 .2.01.29.09.09.07.17.2.17.5 0 .27-.18 1-.57 2.48a1.8 1.8 0 0 1-.37.75.7.7 0 0 1-.52.26c-.04 0-.13 0-.22-.03a.68.68 0 0 0 .3-.56.47.47 0 0 0-.18-.39.55.55 0 0 0-.32-.1c-.4 0-.7.33-.7.74 0 .28.16.5.38.63.21.13.48.18.73.18.39 0 .69-.2.89-.41.09-.1.15-.19.2-.27.2.36.59.68 1.16.68.6 0 1.05-.37 1.35-.76.15-.2.27-.4.34-.57.08-.18.12-.3.12-.42a.24.24 0 0 0-.11-.2c-.06-.03-.12-.02-.13-.02a.26.26 0 0 0-.18.06c-.05.05-.06.1-.07.14-.34 1.1-1.02 1.3-1.3 1.3-.17 0-.27-.06-.35-.17a.72.72 0 0 1-.11-.4c0-.22.06-.45.18-.91l.36-1.45c.03-.14.1-.44.25-.7.15-.25.36-.46.68-.46.03 0 .12 0 .22.03a.7.7 0 0 0-.32.56c0 .11.04.23.13.33.08.1.22.16.4.16.14 0 .3-.06.44-.18a.73.73 0 0 0 .24-.55c0-.32-.2-.54-.42-.66a1.52 1.52 0 0 0-.68-.16c-.34 0-.62.16-.82.34a1.8 1.8 0 0 0-.3.35 1.32 1.32 0 0 0-.5-.54 1.37 1.37 0 0 0-.63-.15z" style="line-height:1.25;-inkscape-font-specification:\'Latin Modern Math\'" font-weight="400" font-size="10.58" font-family="Latin Modern Math" letter-spacing="-1.06" word-spacing="0"/></svg>\n',i.keystroke=U,i.tooltip=!0,i.isToggleable=!0,i.bind("isEnabled").to(e,"isEnabled"),this.listenTo(i,"execute",(()=>this._showUI())),i}))}_enableUserBalloonInteractions(){const t=this.editor,e=this.editor.editing.view.document;this.listenTo(e,"click",(()=>{const e=t.commands.get("math");e.value&&e.isEnabled&&this._showUI()})),t.keystrokes.set("Esc",((t,e)=>{this._isUIVisible&&(this._hideUI(),e())})),(0,a.Z)({emitter:this.formView,activator:()=>this._isFormInPanel,contextElements:[this._balloon.view.element],callback:()=>this._hideUI()})}get _isUIVisible(){return this._balloon.visibleView==this.formView}get _isFormInPanel(){return this._balloon.hasView(this.formView)}}var R=n("Na1A"),Z=n("i1mb"),j=n("D5MA"),q=n("lvXP");class $ extends i.Z{static get requires(){return[R.Z,Z.Z]}static get pluginName(){return"AutoMath"}constructor(t){super(t),this._timeoutId=null,this._positionToInsert=null}init(){const t=this.editor,e=t.model.document;this.listenTo(t.plugins.get(R.Z),"inputTransformation",(()=>{const t=e.selection.getFirstRange(),n=q.Z.fromPosition(t.start);n.stickiness="toPrevious";const i=q.Z.fromPosition(t.end);i.stickiness="toNext",e.once("change:data",(()=>{this._mathBetweenPositions(n,i),n.detach(),i.detach()}),{priority:"high"})})),t.commands.get("undo").on("execute",(()=>{this._timeoutId&&(l.default.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)}),{priority:"high"})}_mathBetweenPositions(t,e){const n=this.editor,i=this.editor.config.get("math"),o=new j.Z(t,e),s=o.getWalker({ignoreElementEnd:!0});let r="";for(const t of s)t.item.is("$textProxy")&&(r+=t.item.data);r=r.trim(),d(r)&&2===function(t){return t.match(/(\\\[|\\\]|\\\(|\\\))/g).length}(r)&&n.commands.get("math").isEnabled&&(this._positionToInsert=q.Z.fromPosition(t),this._timeoutId=l.default.window.setTimeout((()=>{n.model.change((t=>{let e;this._timeoutId=null,t.remove(o),"$graveyard"!==this._positionToInsert.root.rootName&&(e=this._positionToInsert),n.model.change((t=>{const o=Object.assign(h(r),{type:i.outputType}),s=t.createElement(o.display?"mathtex-display":"mathtex-inline",o);n.model.insertContent(s,e),t.setSelection(s,"on")})),this._positionToInsert.detach(),this._positionToInsert=null}))}),100))}}class J extends i.Z{static get requires(){return[O,z,$,o.Z]}static get pluginName(){return"Math"}}},Xl3M:t=>{t.exports.IV=680,t.exports.bH=900},Ay05:t=>{t.exports.short=300,t.exports.medium=400,t.exports.long=600},P9es:t=>{t.exports.Y="linear",t.exports.E="ease-out"},WlYr:(t,e,n)=>{"use strict";t.exports=n("3POp")},"3POp":(t,e,n)=>{"use strict";function i(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var o=n("q1tI"),s=i(o),r=n("V2qZ"),a=n("UxO+"),c=n("LgcO"),l=n("LvDl"),u=i(n("CK61")),d=n("h2RY"),h=n("ABBN"),m=n("lGMC"),k=n("Zl/q"),p=n("MEpN"),g=n("+V57"),f=n("mG1W"),w=i(n("POQ2")),b=i(n("TdF3")),v=i(n("lRCX")),y=i(n("Jrxr")),A=i(n("7oys")),C=i(n("My+Z")),_=i(n("ppq9")),x=["horizontal_rule","hard_break"],E=["hr","hardbreak"],T={code:"backticks",heading:"heading",blockquote:"blockquote",code_block:"code",fence:"fence",bullet_list:"list",ordered_list:"list",hr:"hr",image:"image",link:"link"},V=function(t){var e=[].concat(E,t.disabledNodes,t.disabledMarks),n=l.omit(c.defaultMarkdownParser.tokens,e),i=u("commonmark",{html:!1}),o=l.compact(e.map((function(t){return T[t]})));return i.disable(o),new c.MarkdownParser(t,i,n)},I=(c.defaultMarkdownSerializer.nodes.code_block=function(t,e){t.write("~~~"+(e.attrs.params||"")+"\n"),t.text(e.textContent,!1),t.ensureNewLine(),t.write("~~~"),t.closeBlock(e)},c.defaultMarkdownSerializer),D=function(t,e){return new a.Plugin({props:{attributes:{class:t.length?"rich-text-editor "+t:"rich-text-editor","data-placeholder":e}}})},B=function(t,e){return new a.Plugin({props:{clipboardTextParser:function(e){var n=V(t).parse(e).content;return p.Slice.maxOpen(n)},transformPastedHTML:function(t){return t.includes("<img src")?(e("Pasted content cannot contain images"),""):t}}})},S=function(t,e,n){return new g.InputRule(t,(function(t,i,o,s){var r=n instanceof Function?n(i):n,a=t.tr,c=i.length-1,l=s,u=o;if(i[c]){var d=o+i[0].indexOf(i[c-1]),h=d+i[c-1].length-1,m=d+i[c-1].lastIndexOf(i[c]),k=m+i[c].length;if(function(t,e,n){var i=[];return n.doc.nodesBetween(t,e,(function(t,e){i=[].concat(i,t.marks.map((function(n){return{start:e,end:e+t.nodeSize,mark:n}})))})),i}(o,s,t).filter((function(t){return t.mark.type.excludes(e)})).filter((function(t){return t.end>d})).length)return null;k<h&&a.delete(k,h),m>d&&a.delete(d,m),l=(u=d)+i[c].length}return a.addMark(u,l,e.create(r)),a.removeStoredMark(e),a}))},M=function(t,e){return new g.InputRule(t,(function(t,n,i,o){var s=t.tr.insertText(n[1],i,o),r=e.create({href:n[2],title:n[3]});return s.addMark(i,i+n[1].length,r)}))},L=function(t,e){var n=f.findSelectedNodeOfType(e)(t.selection)||f.findParentNode((function(t){return t.type===e}))(t.selection);return{isActive:!!n,node:null==n?void 0:n.node}},F=function(t,e){return function(n,i){return L(n,t).isActive?h.setBlockType(e)(n,i):h.setBlockType(t)(n,i)}},N=function(t,e){return t.type===e.nodes.bullet_list||t.type===e.nodes.ordered_list||t.type===e.nodes.todo_list},P=function(t,e){return function(n,i){var o=n.schema,s=n.selection,r=s.$from.blockRange(s.$to);if(!r)return!1;var a=f.findParentNode((function(t){return N(t,o)}))(s);if(r.depth>=1&&a&&r.depth-a.depth<=1){if(a.node.type===t)return k.liftListItem(e)(n,i);if(N(a.node,o)&&t.validContent(a.node.content)){var c=n.tr;return c.setNodeMarkup(a.pos,t),i&&i(c),!1}}return k.wrapInList(t)(n,i)}},H=function(){function t(t,e,n){this.items=t,this.editorView=e,this.onUpdate=n}var e=t.prototype;return e.markActive=function(t){var e=this.editorView.state;return t instanceof p.NodeType?L(e,t).isActive:function(t,e){var n=t.selection,i=n.from,o=n.to;return n.empty?!!e.isInSet(t.storedMarks||n.$from.marks()):!!t.doc.rangeHasMark(i,o,e)}(e,t)},e.update=function(){var t=this,e=this.items.filter((function(e){return t.markActive(e.type)}));this.onUpdate(e.length?e.map((function(t){return t.name})):[])},e.destroy=function(){this.onUpdate([])},t}(),O=new a.Plugin({state:{init:function(){return r.DecorationSet.empty},apply:function(t,e){e=e.map(t.mapping,t.doc);var n=t.getMeta(this);if(n&&n.add){var i=document.createElement("div");i.className="image__placeholder";var o=document.createElement("div");o.className="loader",i.appendChild(o);var s=r.Decoration.widget(n.add.pos,i,{id:n.add.id});e=e.add(t.doc,[s])}else n&&n.remove&&(e=e.remove(e.find(void 0,void 0,(function(t){return t.id===n.remove.id}))));return e}},props:{decorations:function(t){return this.getState(t)}}}),U=function(t,e,n,i,o){var s={};if(!window.confirm(n.alertMessage||"I am authorised to use this content"))return!1;var r=t.state.tr;r.setMeta(O,{add:{id:s,pos:i}}),r.setSelection(r.selection),t.dispatch(r);var a=t.state.schema;return e.forEach((function(e){var i=function(t,e){var n=O.getState(t).find(void 0,void 0,(function(t){return t.id===e}));return n.length?n[0].from:null}(t.state,s);if(i){var r=new FormData;r.append("image",e);var c=new XMLHttpRequest;c.withCredentials=!0,c.open("POST",n.url,!0),c.setRequestHeader("X-CSRF-TOKEN",n.csrfToken),c.onerror=function(){var e=t.state.tr.setMeta(O,{remove:{id:s}});o("Sorry something went wrong"),t.dispatch(e)},c.onload=function(){var e,n;try{n=JSON.parse(c.response)}catch(t){n={errors:"Sorry something went wrong"}}if([200,201].includes(c.status)){var r=a.nodes.image.create({src:n.data.url});e=t.state.tr.replaceWith(i,i,r).setMeta(O,{remove:{id:s}})}else e=t.state.tr.setMeta(O,{remove:{id:s}}),o(n.errors);t.dispatch(e)},c.send(r)}})),!0};function z(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function R(t,e,n){return e&&z(t.prototype,e),n&&z(t,n),t}function Z(){return(Z=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function j(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,(Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function q(t){var e=t.doc,n=t.name,i=[],o=[];return f.findBlockNodes(e).filter((function(t){return t.node.type.name===n})).forEach((function(t){var e=t.pos+1,n=w.highlightAuto(t.node.textContent),s=n.value,a=n.language;n.relevance>1&&(a&&a!==t.node.attrs.params&&o.push({language:a,pos:t.pos,type:t.node.type}),l.flattenDeep(function t(e,n){return void 0===n&&(n=[]),e.map((function(e){var i=[].concat(n,e.properties?e.properties.className:[]);return e.children?t(e.children,i):{text:e.value,classes:i}}))}(s)).map((function(t){var n=e,i=n+t.text.length;return e=i,Z({},t,{from:n,to:i})})).forEach((function(t){var e=r.Decoration.inline(t.from,t.to,{class:t.classes.join(" ")});i.push(e)})))})),{decorations:r.DecorationSet.create(e,i),languages:o}}var $=function(){function t(t){this.schema=t}var e=t.prototype;return e.getPlugins=function(){return this._type?[d.keymap(this.shortcuts),g.inputRules({rules:this.rules})]:[]},e.getToolbarItem=function(){return this._type&&this.inToolbar&&this.command?{name:this.name,icon:this.icon,command:this.command,type:this.type,label:this.label}:null},R(t,[{key:"name",get:function(){return""}},{key:"label",get:function(){return""}},{key:"icon",get:function(){return""}},{key:"inToolbar",get:function(){return!0}},{key:"command",get:function(){return function(t,e){}}},{key:"shortcuts",get:function(){return{}}},{key:"rules",get:function(){return[]}},{key:"type",get:function(){return this._type}},{key:"_type",get:function(){return null}}]),t}(),J=function(t){function e(){return t.apply(this,arguments)||this}return j(e,t),R(e,[{key:"type",get:function(){return this._type}},{key:"_type",get:function(){return this.schema.marks[this.name]}}]),e}($),G=/(https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*))\s$/g,K=/\[(.+)\]\((https?[^ ]+)(?: "(.+)")?\)$/,W=[function(t){function e(){return t.apply(this,arguments)||this}return j(e,t),R(e,[{key:"name",get:function(){return"strong"}},{key:"label",get:function(){return"Toggle bold"}},{key:"icon",get:function(){return"Bold"}},{key:"command",get:function(){return h.toggleMark(this.type)}},{key:"shortcuts",get:function(){return{"Mod-b":h.toggleMark(this.type),"Mod-B":h.toggleMark(this.type)}}},{key:"rules",get:function(){return[S(/(?:\*\*|__)([^*_]+)(?:\*\*|__)$/,this.type)]}}]),e}(J),function(t){function e(){return t.apply(this,arguments)||this}return j(e,t),R(e,[{key:"name",get:function(){return"em"}},{key:"label",get:function(){return"Toggle emphasis"}},{key:"icon",get:function(){return"Italic"}},{key:"shortcuts",get:function(){return{"Mod-i":h.toggleMark(this.type),"Mod-I":h.toggleMark(this.type)}}},{key:"rules",get:function(){return[S(/(?:^|[^_])(_([^_]+)_)$/,this.type),S(/(?:^|[^*])(\*([^*]+)\*)$/,this.type)]}},{key:"command",get:function(){return h.toggleMark(this.type)}}]),e}(J),function(t){function e(){return t.apply(this,arguments)||this}return j(e,t),R(e,[{key:"name",get:function(){return"code"}},{key:"label",get:function(){return"Toggle code"}},{key:"icon",get:function(){return"Code"}},{key:"shortcuts",get:function(){return{"Mod-`":h.toggleMark(this.type)}}},{key:"rules",get:function(){return[S(/(?:`)([^`]+)(?:`)$/,this.type)]}},{key:"command",get:function(){return h.toggleMark(this.type)}}]),e}(J),function(t){function e(){return t.apply(this,arguments)||this}return j(e,t),R(e,[{key:"name",get:function(){return"link"}},{key:"rules",get:function(){return[(t=G,e=this.type,new g.InputRule(t,(function(t,n,i,o){var s=t.tr.insertText(n[0],i,o),r=e.create({href:n[1]});return s.addMark(i,i+n[1].length,r)}))),M(K,this.type)];var t,e}},{key:"inToolbar",get:function(){return!1}}]),e}(J)],Q=function(t){function e(){return t.apply(this,arguments)||this}return j(e,t),R(e,[{key:"type",get:function(){return this._type}},{key:"_type",get:function(){return this.schema.nodes[this.name]}},{key:"paragraphType",get:function(){return this.schema.nodes.paragraph}},{key:"listItemType",get:function(){return this.schema.nodes.list_item}}]),e}($),Y=[1,2,3,4,5,6],X=[function(t){function e(){return t.apply(this,arguments)||this}return j(e,t),R(e,[{key:"name",get:function(){return"blockquote"}},{key:"label",get:function(){return"Toggle block quote"}},{key:"icon",get:function(){return"Quote"}},{key:"command",get:function(){return t=this.type,function(e,n){return L(e,t).isActive?h.lift(e,n):h.wrapIn(t)(e,n)};var t}},{key:"rules",get:function(){return[g.wrappingInputRule(/^\s*>\s$/,this.type)]}}]),e}(Q),function(t){function e(){return t.apply(this,arguments)||this}return j(e,t),R(e,[{key:"name",get:function(){return"heading"}},{key:"label",get:function(){return"Toggle heading"}},{key:"icon",get:function(){return"Heading"}},{key:"command",get:function(){return F(this.type,this.paragraphType)}},{key:"rules",get:function(){var t=this;return Y.map((function(e){return g.textblockTypeInputRule(new RegExp("^(#{1,"+e+"})\\s$"),t.type,(function(){return{level:e}}))}))}}]),e}(Q),function(t){function e(){return t.apply(this,arguments)||this}return j(e,t),R(e,[{key:"name",get:function(){return"bullet_list"}},{key:"label",get:function(){return"Toggle bullet list"}},{key:"icon",get:function(){return"UnorderedList"}},{key:"command",get:function(){return P(this.type,this.listItemType)}},{key:"rules",get:function(){return[g.wrappingInputRule(/^\s*([-+*])\s$/,this.type)]}}]),e}(Q),function(t){function e(){return t.apply(this,arguments)||this}return j(e,t),R(e,[{key:"name",get:function(){return"ordered_list"}},{key:"label",get:function(){return"Toggle ordered list"}},{key:"icon",get:function(){return"OrderedList"}},{key:"command",get:function(){return P(this.type,this.listItemType)}},{key:"rules",get:function(){return[g.wrappingInputRule(/^(\d+)\.\s$/,this.type,(function(t){return{order:+t[1]}}),(function(t,e){return e.childCount+e.attrs.order===+t[1]}))]}}]),e}(Q),function(t){function e(){return t.apply(this,arguments)||this}return j(e,t),R(e,[{key:"name",get:function(){return"code_block"}},{key:"label",get:function(){return"Toggle code block"}},{key:"icon",get:function(){return"CodeBlock"}},{key:"command",get:function(){return F(this.type,this.paragraphType)}},{key:"rules",get:function(){return[g.textblockTypeInputRule(/^(```|~~~)$/,this.type)]}}]),e}(Q)],tt=function(t){return[].concat(function(t){return l.compact(W.map((function(e){return new e(t).getToolbarItem()})))}(t),function(t){return l.compact(X.map((function(e){return new e(t).getToolbarItem()})))}(t))},et={Bold:function(){return s.createElement("svg",{className:"a-svg-icon a-svg-icon--bold",viewBox:"0 0 32 32"},s.createElement("path",{d:"M24.2,17.4c-0.9-0.9-2-1.7-3.3-2.1c1.8-1,3.6-3,3.6-6.7c0-0.1,0.2-3.5-2.1-5.9C20.8,0.9,18.5,0,15.5,0H9v0H7\n  v32h0.8v0H16c0.1,0,0.1,0,0.2,0c1.5,0,5.3-0.1,7.8-2.6c1.5-1.5,2.3-3.6,2.3-6.1C26.3,22.8,26.4,19.8,24.2,17.4z M15.5,2\n  c2.4,0,4.2,0.6,5.4,1.9c1.7,1.8,1.6,4.4,1.6,4.5c0,2.6-1,4.3-3,5.3c-1.1,0.5-2.4,0.8-4,0.8H9V2H15.5z M24.2,23.1l0,0.1\n  c0,2-0.6,3.6-1.7,4.8c-2,2-5.5,2-6.6,2H9V16.5h6.8c3.2-0.1,5.5,0.7,6.9,2.2C24.4,20.6,24.2,23.1,24.2,23.1z"}))},Code:function(){return s.createElement("svg",{className:"a-svg-icon a-svg-icon--code",viewBox:"0 0 32 32"},s.createElement("polygon",{points:"13.1,6.7 11.6,5.3 1,16 11.7,26.7 13.1,25.3 3.8,16 "}),s.createElement("polygon",{points:"20.4,5.3 19,6.7 28.2,16 19,25.3 20.4,26.7 31,16 "}))},CodeBlock:function(){return s.createElement("svg",{viewBox:"0 0 32 32"},s.createElement("path",{fill:"#3A343A",d:"M11.97,1.02L10.69,1v0C10.47,1,8.7,0.85,7.48,1.96c-0.6,0.55-0.92,1.31-0.92,2.2v9.66  c0,0.42-0.15,0.6-0.27,0.72C5.77,15.06,3.97,15,3.97,15v2c0,0,1.79-0.07,2.33,0.46c0.12,0.12,0.27,0.3,0.27,0.72v9.66  c0,0.89,0.32,1.65,0.92,2.2C8.7,31.15,10.47,31,10.69,31v0l1.28-0.02V29L10.69,29c-0.33,0.02-1.38,0-1.86-0.44  c-0.12-0.11-0.27-0.3-0.27-0.72v-9.66c0-0.87-0.31-1.63-0.9-2.18c0.58-0.55,0.9-1.31,0.9-2.18V4.16c0-0.42,0.14-0.61,0.27-0.72  C9.31,2.99,10.36,2.97,10.69,3v0L11.97,3V1.02z"}),s.createElement("path",{fill:"#3A343A",d:"M19.98,1.02L21.26,1v0c0.22,0,1.99-0.15,3.21,0.97c0.6,0.55,0.92,1.31,0.92,2.2v9.66  c0,0.42,0.15,0.6,0.27,0.72c0.52,0.52,2.33,0.46,2.33,0.46v2c0,0-1.79-0.07-2.33,0.46c-0.12,0.12-0.27,0.3-0.27,0.72v9.66  c0,0.89-0.32,1.65-0.92,2.2C23.25,31.15,21.49,31,21.26,31v0l-1.28-0.02V29L21.26,29c0.33,0.02,1.38,0,1.86-0.44  c0.12-0.11,0.27-0.3,0.27-0.72v-9.66c0-0.87,0.31-1.63,0.9-2.18c-0.58-0.55-0.9-1.31-0.9-2.18V4.16c0-0.42-0.14-0.61-0.27-0.72  C22.64,2.99,21.59,2.97,21.26,3v0L19.98,3V1.02z"}))},Heading:function(){return s.createElement("svg",{className:"a-svg-icon a-svg-icon--heading",viewBox:"0 0 32 32"},s.createElement("polygon",{points:"25,0 25,15 7,15 7,0 5,0 5,32 7,32 7,17 25,17 25,32 27,32 27,0 "}))},Image:function(){return s.createElement("svg",{className:"a-svg-icon a-svg-icon--italic",viewBox:"0 0 32 32"},s.createElement("circle",{cx:"21.5",cy:"11.5",r:"4.5"}),s.createElement("polygon",{points:"32,6 32,0 0,0 0,32 32,32 32,11 30,11 30,30 16,20 2,30 2,2 30,2 30,6"}))},Italic:function(){return s.createElement("svg",{className:"a-svg-icon a-svg-icon--italic",viewBox:"0 0 32 32"},s.createElement("polygon",{points:"25.3,2 25.3,0 13.3,0 13.3,2 18.1,2 12.2,30 7,30 7,32 19,32 19,30 14.2,30 20.1,2 "}))},OrderedList:function(){return s.createElement("svg",{className:"a-svg-icon a-svg-icon--ordered-list",viewBox:"0 0 32 32"},s.createElement("rect",{x:"10",y:"3",width:"22",height:"2"}),s.createElement("rect",{x:"10",y:"15",width:"22",height:"2"}),s.createElement("rect",{x:"10",y:"27",width:"22",height:"2"}),s.createElement("path",{d:"M3.8,25.1c-1,0-1.3,0.8-1.3,0.8l-1.3-0.7c0,0,0.7-1.6,2.7-1.6c1.5,0,2.9,0.8,2.9,2.4c0,1.1-0.9,1.4-0.9,1.4\n    s1,0.4,1,1.7c0,1.6-1.4,2.4-2.9,2.4c-2.2,0-2.8-1.8-2.8-1.8l1.4-0.8c0,0,0.3,1.1,1.4,1.1c0.7,0,1-0.4,1-0.9c0-0.6-0.5-0.9-1.3-0.9\n    H3.3v-1.3h0.3c0.6,0,1.3-0.2,1.3-0.9C4.9,25.5,4.5,25.1,3.8,25.1z"}),s.createElement("path",{d:"M4.1,16C4.4,15.6,5,15,5,14.3c0-0.6-0.5-1.1-1.2-1.1c-1,0-1.3,1.1-1.3,1.1L1,13.8c0,0,0.6-2.3,2.8-2.3\n    c2,0,3,1.4,3,2.7c0,0.8-0.4,1.5-0.6,1.7L4.7,18h2.2v1.6H1.1L4.1,16z"}),s.createElement("path",{d:"M4.4,0.6H6v7.9H4.2V2.9L2.4,4.5l-1-1.3L4.4,0.6z"}))},Quote:function(){return s.createElement("svg",{className:"a-svg-icon a-svg-icon--quote",viewBox:"0 0 32 32"},s.createElement("path",{d:"M11.1,26V15.9H5.6C6,12.3,8.3,9.5,12,9.5V5.8c-5.8,0-10.5,4.4-11,10.1l0,0V26H11.1z"}),s.createElement("path",{d:"M20.9,5.8v10.1h5.5c-0.5,3.6-2.7,6.4-6.4,6.4V26c5.8,0,10.5-4.4,11-10.1l0,0V5.8L20.9,5.8z"}))},UnorderedList:function(){return s.createElement("svg",{className:"a-svg-icon a-svg-icon--unordered-list",viewBox:"0 0 32 32"},s.createElement("circle",{cx:"2.5",cy:"4",r:"2.5"}),s.createElement("circle",{cx:"2.5",cy:"16",r:"2.5"}),s.createElement("circle",{cx:"2.5",cy:"28",r:"2.5"}),s.createElement("rect",{x:"8",y:"3",width:"24",height:"2"}),s.createElement("rect",{x:"8",y:"15",width:"24",height:"2"}),s.createElement("rect",{x:"8",y:"27",width:"24",height:"2"}))}},nt=function(t){var e=t.item,n=t.item,i=n.name,o=t.onClick,r=et[n.icon];return s.createElement("button",{className:_("item",{"item--active":t.isActive}),"data-item":i,onClick:function(){return o(e)},type:"button","aria-label":e.label,title:e.label},s.createElement(r,null))},it=function(t){var e=t.editor,n=t.imageUploadEndpoint,i=t.onError;return s.createElement("div",{className:"fileUploadWrapper"},s.createElement("input",{type:"file",accept:".jpg,.jpeg,.png,.gif",onChange:function(t){if(n&&e&&t.target){var o=t.target;o.files&&(t.preventDefault(),U(e,Array.from(o.files),n,e.state.tr.selection.from,i),e.focus(),o.value="")}}}),s.createElement("button",{"data-item":"image",className:"item fileUploadWrapper--button","aria-label":"Upload image",title:"Upload image"},s.createElement(et.Image,null)))},ot=s.memo((function(t){var e=t.onClick,n=t.activeOptions,i=t.editor,r=t.imageUploadEndpoint,a=t.disabledItems,c=void 0===a?[]:a,l=t.onError,u=o.useMemo((function(){return tt(i.state.schema).filter((function(t){return!c.includes(t.name)}))}),[c,i.state.schema]);return s.createElement("div",{className:"toolbar"},u.map((function(t){return s.createElement(nt,{key:t.name,item:t,onClick:e,isActive:n.includes(t.name)})})),!c.includes("image")&&s.createElement(it,{editor:i,imageUploadEndpoint:r,onError:l}))})),st=function(t){var e={code_block:"Hold down shift and press enter to exit the code block"};return s.createElement("p",null,t.activeOptions.map((function(t){return e[t]})))};e.default=function(t){var e=t.id,n=t.name,i=t.onChange,u=void 0===i?function(){}:i,p=t.value,g=void 0===p?"":p,f=t.placeholder,E=void 0===f?"Enter text":f,T=t.classes,S=void 0===T?"":T,M=t.imageUploadEndpoint,L=t.onError,F=void 0===L?function(){}:L,N=t.disabledMarks,P=void 0===N?[]:N,z=t.disabledNodes,R=void 0===z?[]:z,Z=t.inputRef,j=o.useRef(null),$=o.useState(null),J=$[0],G=$[1],K=o.useState(g),Q=K[0],Y=K[1],et=o.useState([]),nt=et[0],it=et[1],rt=o.useRef([].concat(P,R)),at=o.useRef(nt),ct=function(t){Y(t),u(t)},lt=function(t){JSON.stringify(t)!==JSON.stringify(at.current)&&it(t)},ut=function(){if(j.current){var t=function(t){var e,n,i=t.node,o=t.value,s=t.onChange,u=t.classes,p=t.placeholder,g=t.onToolbarChange,f=t.imageUploadEndpoint,_=t.onError,E=function(t){var e=t.disabledMarks,n=void 0===e?[]:e,i=t.disabledNodes,o=void 0===i?[]:i;return o.includes("code_block")?o.push("fence"):c.schema.nodes.code_block.isolating=!0,c.schema.nodes=l.omit(c.schema.nodes,[].concat(x,o)),c.schema.marks=l.omit(c.schema.marks,n),c.schema.disabledNodes=o,c.schema.disabledMarks=n,c.schema}({disabledMarks:t.disabledMarks,disabledNodes:t.disabledNodes}),T=E.nodes.list_item,S=[m.history(),d.keymap({"Mod-z":m.undo,"Mod-y":m.redo,Enter:k.splitListItem(T),Backspace:function(t,e){var n=t.selection.$from.parent;return!(![E.nodes.heading,E.nodes.code_block].includes(n.type)||n.textContent.length||(h.setBlockType(E.nodes.paragraph)(t,e),0))}}),d.keymap({"Shift-Enter":h.exitCode}),d.keymap(h.baseKeymap),B(E,_),(e=tt(E),n=g,new a.Plugin({view:function(t){return new H(e,t,n)}}))].concat(function(t){return l.flatMap(W,(function(e){return new e(t).getPlugins()}))}(E),function(t){return l.flatMap(X,(function(e){return new e(t).getPlugins()}))}(E),[D(u,p)]);E.nodes.code_block&&S.push(function(t){var e=t.name;w.registerLanguage("javascript",b),w.registerLanguage("python",v),w.registerLanguage("r",y),w.registerLanguage("css",A),w.registerLanguage("java",C);var n=new a.PluginKey("highlight");return new a.Plugin({key:n,state:{init:function(t,n){return q({doc:n.doc,name:e})},apply:function(t,n,i,o){return t.docChanged&&[o.selection.$head.parent.type.name,i.selection.$head.parent.type.name].includes(e)?q({doc:t.doc,name:e}):(n.decorations||n).map(t.mapping,t.doc)}},props:{decorations:function(t){var e=this.getState(t);return e.decorations||e}},view:function(t){return{update:function(t,e){var i=n.get(e);if(i){var o=i.getState(t.state).languages;o&&o.length&&o.forEach((function(e){var n=t.state.tr.setNodeMarkup(e.pos,e.type,{params:e.language});t.dispatch(n)}))}}}}})}({name:E.nodes.code_block.name})),f&&E.nodes.image&&S.push(O,function(t,e){return new a.Plugin({props:{handleDOMEvents:{drop:function(n,i){var o=i;if(!o.dataTransfer)return!1;if(!o.dataTransfer.files||!o.dataTransfer.files.length)return!1;var s=Array.from(o.dataTransfer.files).filter((function(t){return/image/i.test(t.type)}));if(0===s.length)return!1;i.preventDefault();var r=n.posAtCoords({left:o.clientX,top:o.clientY});return!!r&&U(n,s,t,r.pos,e)}}}})}(f,_));var M=new r.EditorView(i,{state:a.EditorState.create({schema:E,doc:V(E).parse(o),plugins:S}),dispatchTransaction:function(t){var e=M.state.apply(t);M.updateState(e),s(I.serialize(M.state.doc))}});return M}({node:j.current,value:g,onChange:ct,classes:S,placeholder:E,onToolbarChange:lt,imageUploadEndpoint:M,onError:F,disabledNodes:R,disabledMarks:P});G(t)}},dt=o.useCallback((function(t){var e=t.command;J&&(J.focus(),e(J.state,J.dispatch,J))}),[J]);return o.useEffect((function(){at.current=nt}),[nt]),o.useEffect((function(){Z&&(Z.current=J)}),[J,Z]),o.useEffect((function(){g!==Q&&J&&(J.destroy(),ut())}),[g]),o.useEffect((function(){ut()}),[]),s.createElement(s.Fragment,null,J&&s.createElement(ot,{activeOptions:nt,onClick:dt,editor:J,disabledItems:rt.current,imageUploadEndpoint:M,onError:F}),s.createElement("div",{id:e,className:_({hasPlaceholder:!Q.length}),ref:j}),s.createElement(st,{activeOptions:nt}),s.createElement("input",{type:"hidden",value:Q,onChange:function(){},name:n}))}},ppq9:(t,e)=>{var n;!function(){"use strict";var i={}.hasOwnProperty;function o(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(n){var s=typeof n;if("string"===s||"number"===s)t.push(n);else if(Array.isArray(n)&&n.length){var r=o.apply(null,n);r&&t.push(r)}else if("object"===s)for(var a in n)i.call(n,a)&&n[a]&&t.push(a)}}return t.join(" ")}t.exports?(o.default=o,t.exports=o):void 0===(n=function(){return o}.apply(e,[]))||(t.exports=n)}()},qJJe:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var i=n("rxK0"),o=n.n(i),s=n("JPst"),r=n.n(s)()(o());r.push([t.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Class added to span element surrounding currently selected link. */\n.ck .ck-link_selected {\n\tbackground: var(--ck-color-link-selected-background);\n\n\t/* Give linked inline images some outline to let the user know they are also part of the link. */\n\t& span.image-inline {\n\t\toutline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);\n\t}\n}\n\n/*\n * Classes used by the "fake visual selection" displayed in the content when an input\n * in the link UI has focus (the browser does not render the native selection in this state).\n */\n.ck .ck-fake-link-selection {\n\tbackground: var(--ck-color-link-fake-selection);\n}\n\n/* A collapsed fake visual selection. */\n.ck .ck-fake-link-selection_collapsed {\n\theight: 100%;\n\tborder-right: 1px solid var(--ck-color-base-text);\n\tmargin-right: -1px;\n\toutline: solid 1px hsla(0, 0%, 100%, .5);\n}\n'],sourceRoot:""}]);const a=r},tupl:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var i=n("rxK0"),o=n.n(i),s=n("JPst"),r=n.n(s)()(o());r.push([t.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] :is(.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview)){margin-left:0}[dir=rtl] :is(.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview)){margin-left:0}}","",{version:3,sources:["webpack://./node_modules/@futurelearn/ckeditor5-link/theme/linkactions.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCKA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDvDD,oCC2DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,6EAEE,aAMF,CARA,6EAME,aAEF,CD1ED",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-actions {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\n\t& .ck-link-actions__preview {\n\t\tdisplay: inline-block;\n\n\t\t& .ck-button__label {\n\t\t\toverflow: hidden;\n\t\t}\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-link-actions__preview {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button:not(.ck-link-actions__preview) {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/components/tooltip/mixins/_tooltip.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n@import "../mixins/_focus.css";\n@import "../mixins/_shadow.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-actions {\n\t& .ck-button.ck-link-actions__preview {\n\t\tpadding-left: 0;\n\t\tpadding-right: 0;\n\n\t\t& .ck-button__label {\n\t\t\tpadding: 0 var(--ck-spacing-medium);\n\t\t\tcolor: var(--ck-color-link-default);\n\t\t\ttext-overflow: ellipsis;\n\t\t\tcursor: pointer;\n\n\t\t\t/* Match the box model of the link editor form\'s input so the balloon\n\t\t\tdoes not change width when moving between actions and the form. */\n\t\t\tmax-width: var(--ck-input-width);\n\t\t\tmin-width: 3em;\n\t\t\ttext-align: center;\n\n\t\t\t&:hover {\n\t\t\t\ttext-decoration: underline;\n\t\t\t}\n\t\t}\n\n\t\t&,\n\t\t&:hover,\n\t\t&:focus,\n\t\t&:active {\n\t\t\tbackground: none;\n\t\t}\n\n\t\t&:active {\n\t\t\tbox-shadow: none;\n\t\t}\n\n\t\t&:focus {\n\t\t\t& .ck-button__label {\n\t\t\t\ttext-decoration: underline;\n\t\t\t}\n\t\t}\n\t}\n\n\t@mixin ck-dir ltr {\n\t\t& .ck-button:not(:first-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-dir rtl {\n\t\t& .ck-button:not(:last-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-media-phone {\n\t\t& .ck-button.ck-link-actions__preview {\n\t\t\tmargin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;\n\n\t\t\t& .ck-button__label {\n\t\t\t\tmin-width: 0;\n\t\t\t\tmax-width: 100%;\n\t\t\t}\n\t\t}\n\n\t\t& .ck-button:not(.ck-link-actions__preview) {\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const a=r},cJwu:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var i=n("rxK0"),o=n.n(i),s=n("JPst"),r=n.n(s)()(o());r.push([t.id,".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical .ck-button{border:0;border-radius:0;border-top:1px solid var(--ck-color-base-border);margin:0;padding:var(--ck-spacing-standard);width:50%}[dir=ltr] :is(.ck.ck-link-form_layout-vertical .ck-button){margin-left:0}[dir=rtl] :is(.ck.ck-link-form_layout-vertical .ck-button){margin-left:0}[dir=rtl] :is(.ck.ck-link-form_layout-vertical .ck-button):last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{border:0;padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./node_modules/@futurelearn/ckeditor5-link/theme/linkform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBACC,YAiBD,CAfC,2BACC,YACD,CCNA,oCDCD,iBAQE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CCfD,CDuBD,iCACC,aAYD,CALE,wHAEC,mCACD,CE/BF,iCAEC,+BAAgC,CADhC,SA+CD,CA5CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,QAAS,CADT,eAAgB,CAEhB,gDAAiD,CAHjD,QAAS,CADT,kCAAmC,CAKnC,SAaD,CAnBA,2DASE,aAUF,CAnBA,2DAaE,aAMF,CAJE,wEACC,kDACD,CAKF,6CACC,yDAWD,CATC,wEACC,QAAS,CACT,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-form {\n\tdisplay: flex;\n\n\t& .ck-label {\n\t\tdisplay: none;\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-labeled-field-view {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n\n/*\n * Style link form differently when manual decorators are available.\n * See: https://github.com/ckeditor/ckeditor5-link/issues/186.\n */\n.ck.ck-link-form_layout-vertical {\n\tdisplay: block;\n\n\t/*\n\t * Whether the form is in the responsive mode or not, if there are decorator buttons\n\t * keep the top margin of action buttons medium.\n\t */\n\t& .ck-button {\n\t\t&.ck-button-save,\n\t\t&.ck-button-cancel {\n\t\t\tmargin-top: var(--ck-spacing-medium);\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n/*\n * Style link form differently when manual decorators are available.\n * See: https://github.com/ckeditor/ckeditor5-link/issues/186.\n */\n.ck.ck-link-form_layout-vertical {\n\tpadding: 0;\n\tmin-width: var(--ck-input-width);\n\n\t& .ck-labeled-field-view {\n\t\tmargin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);\n\n\t\t& .ck-input-text {\n\t\t\tmin-width: 0;\n\t\t\twidth: 100%;\n\t\t}\n\t}\n\n\t& .ck-button {\n\t\tpadding: var(--ck-spacing-standard);\n\t\tmargin: 0;\n\t\tborder-radius: 0;\n\t\tborder: 0;\n\t\tborder-top: 1px solid var(--ck-color-base-border);\n\t\twidth: 50%;\n\n\t\t@mixin ck-dir ltr {\n\t\t\tmargin-left: 0;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tmargin-left: 0;\n\n\t\t\t&:last-of-type {\n\t\t\t\tborder-right: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\t\t}\n\t}\n\n\t/* Using additional `.ck` class for stronger CSS specificity than `.ck.ck-link-form > :not(:first-child)`. */\n\t& .ck.ck-list {\n\t\tmargin: var(--ck-spacing-standard) var(--ck-spacing-large);\n\n\t\t& .ck-button.ck-switchbutton {\n\t\t\tborder: 0;\n\t\t\tpadding: 0;\n\t\t\twidth: 100%;\n\n\t\t\t&:hover {\n\t\t\t\tbackground: none;\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const a=r},"iM+U":(t,e,n)=>{"use strict";n.d(e,{Z:()=>h});var i=n("rxK0"),o=n.n(i),s=n("JPst"),r=n.n(s),a=n("HeW1"),c=n.n(a),l=new URL(n("mBAS"),n.b),u=r()(o()),d=c()(l);u.push([t.id,".ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url("+d+');background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}',"",{version:3,sources:["webpack://./node_modules/@futurelearn/ckeditor5-link/theme/linkimage.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkimage.css"],names:[],mappings:"AASE,+FACC,aAAc,CACd,iBACD,CCPF,MAEC,sCAAuC,CACvC,oEACD,CAME,+FAUC,+BAAqC,CACrC,wDAA+3B,CAG/3B,uBAA2B,CAD3B,2BAA4B,CAD5B,oBAAqB,CAGrB,kBAAmB,CAdnB,UAAW,CAsBX,oGAAuG,CAFvG,eAAgB,CAbhB,sCAAwC,CADxC,oCAAsC,CAetC,mGAED",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t/* Linked image indicator */\n\t& figure.image > a,\n\t& a span.image-inline {\n\t\t&::after {\n\t\t\tdisplay: block;\n\t\t\tposition: absolute;\n\t\t}\n\t}\n}\n\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/* Match the icon size with the upload indicator brought by the image upload feature. */\n\t--ck-link-image-indicator-icon-size: 20;\n\t--ck-link-image-indicator-icon-is-visible: clamp(0px, 100% - 50px, 1px);\n}\n\n.ck.ck-editor__editable {\n\t/* Linked image indicator */\n\t& figure.image > a,\n\t& a span.image-inline {\n\t\t&::after {\n\t\t\tcontent: "";\n\n\t\t\t/*\n\t\t\t * Smaller images should have the icon closer to the border.\n\t\t\t * Match the icon position with the upload indicator brought by the image upload feature.\n\t\t\t */\n\t\t\ttop: min(var(--ck-spacing-medium), 6%);\n\t\t\tright: min(var(--ck-spacing-medium), 6%);\n\n\t\t\tbackground-color: hsla(0, 0%, 0%, .4);\n\t\t\tbackground-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");\n\t\t\tbackground-size: 14px;\n\t\t\tbackground-repeat: no-repeat;\n\t\t\tbackground-position: center;\n\t\t\tborder-radius: 100%;\n\n\t\t\t/*\n\t\t\t* Use CSS math to simulate container queries.\n\t\t\t* https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things\n\t\t\t*/\n\t\t\toverflow: hidden;\n\t\t\twidth: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));\n\t\t\theight: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));\n\t\t}\n\t}\n}\n\n'],sourceRoot:""}]);const h=u},"0AAk":(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var i=n("rxK0"),o=n.n(i),s=n("JPst"),r=n.n(s)()(o());r.push([t.id,".ck.ck-math-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}@media screen and (max-width:600px){.ck.ck-math-form{flex-wrap:wrap}.ck.ck-math-form .ck-math-view,.ck.ck-math-form .ck-math-view .ck-label,.ck.ck-math-form .ck-math-view .ck-labeled-input{flex-basis:100%}.ck.ck-math-form .ck-button{flex-basis:50%}}.ck-math-tex.ck-placeholder:before{display:none!important}.ck.ck-toolbar-container{z-index:calc(var(--ck-z-modal) + 2)}","",{version:3,sources:["webpack://./node_modules/@futurelearn/ckeditor5-math/theme/mathform.css"],names:[],mappings:"AAAA,iBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,oCAND,iBAOE,cAkBF,CATG,yHACC,eACD,CAGD,4BACC,cACD,CACD,CAGD,mCACC,sBACD,CAEA,yBACC,mCACD",sourcesContent:[".ck.ck-math-form {\n\tdisplay: flex;\n\talign-items: flex-start;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\n\t@media screen and (max-width: 600px) {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-math-view {\n\t\t\tflex-basis: 100%;\n\n\t\t\t& .ck-labeled-input {\n\t\t\t\tflex-basis: 100%;\n\t\t\t}\n\n\t\t\t& .ck-label {\n\t\t\t\tflex-basis: 100%;\n\t\t\t}\n\t\t}\n\n\t\t& .ck-button {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n\n.ck-math-tex.ck-placeholder::before {\n\tdisplay: none !important;\n}\n\n.ck.ck-toolbar-container {\n\tz-index: calc(var(--ck-z-modal) + 2);\n}\n"],sourceRoot:""}]);const a=r},"4re+":(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>'}}]);